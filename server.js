module.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=18)}([function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("koa-static")},function(e,t){e.exports=require("path-to-regexp")},function(e,t){e.exports=require("highlight.js")},function(e){e.exports=[{id:"1",title:"How to Upgrade from Webpack 1",summary:"Webpack 2 版本已经基本定型（未完全发布正式版本），其中有不少配置有所变更，下面是 Webpack 提供的一份升级指南。",file:"How-to-Upgrade-from-Webpack-1"},{id:"2",title:"前端开发面试题与解答",summary:"本文由我收集总结了一些前端面试题，初学者阅后也要用心钻研其中的原理，重要知识需要系统学习、透彻学习，形成自己的知识链。万不可投机取巧，临时抱佛脚只求面试侥幸混过关是错误的！也是不可能的！不可能的！不可能的！",file:"front-end-developer-questions-and-answers"},{id:"3",title:"开始使用代码检测工具 Eslint 和 Stylelint",summary:"很早以前就听说过各种代码检测工具, 从 JSLint 到 JSHint, 又到 JSCS, 再到现在最强大的代码检测工具当属 ESLint (中文译站: ESLint.cn). Lint 是一个计算机术语, 是一种静态程序分析工具的统称, 可以用于分析代码书写问题、提升代码可读性、统一项目代码风格等.",file:"start-using-linters-Eslint-and-Stylelint"},{id:"4",title:"记录近期优化网站加载速度的实践",summary:"前两天开始使用 hexo 搭建此博客网站, 本地开发的时候没管什么加载速度, 写完就直接扔 GitHub Pages 上了, 也就意味着网站能正常运行了. 不过访问了几次后发现加载速度有点儿不尽人意, 大概查看了下资源加载进程, 发现拉取的各种资源都是源码, hexo 在发布时并没有做任何优化! 所以就开始想着要优化一下网站的加载速度, 下面记录一下优化的具体细节.",file:"optimize-hexo-website-loading-speed"},{id:"5",title:"使用 Hexo 搭建免费博客遇到的几个坑",summary:"今天开始尝试使用 Hexo 替代 Jekyll 搭建 GitHub Pages 免费博客, 期间由于一些惯性思维或技术细节不熟悉的原因折腾了很久才成功完整地发布博客工程, 下面记录一下具体遇到的问题和解决过程。",file:"some-problems-while-starting-with-hexo"}]},function(e,t){e.exports=require("koa")},function(e,t){e.exports=require("koa-compress")},function(e,t){e.exports=require("koa-logger")},function(e,t){e.exports=require("lru-cache")},function(e,t){e.exports=require("mkdirp")},function(e,t){e.exports=require("debug")},function(e,t){e.exports=require("koa-router")},function(e,t){e.exports=require("markdown-it")},function(e,t){e.exports=require("html-minifier")},function(e,t){e.exports=require("koa/package.json")},function(e,t){e.exports=require("vue-server-renderer/package.json")},function(e,t){e.exports=require("vue-server-renderer")},function(e,t,r){"use strict";r.r(t);var n=r(0),i=r.n(n),o=r(1),a=r.n(o),u=r(6),c=r.n(u),s=r(7),l=r.n(s),f=r(8),d=r.n(f),p=r(2),m=r.n(p),v=r(9),y=r.n(v),h=r(10),g=r.n(h),b=r(3),x=r.n(b),w=r(11),S=r.n(w),j=r(12),q=r.n(j),O=r(13),k=r.n(O),P=r(4),_=r.n(P),E=r(14),H=r.n(E),A=+process.env.PORT||4e3,T=("http://localhost:".concat(A,"/"),a.a.resolve),M=require,W=r(5),I=new k.a({highlight:function(e,t){if(t&&_.a.getLanguage(t))try{return'<pre class="hljs"><code>'+_.a.highlight(t,e,!0).value+"</code></pre>"}catch(e){}return'<pre class="hljs"><code>'+I.utils.escapeHtml(e)+"</code></pre>"}}),L=new q.a({prefix:"/api"}).get("/articles",function(e){return e.body=W}).get("/article/:id",function(e){var t=e.params.id,r=W.find(function(e){return e.id===t});if(r){if(!r.content){var n=I.render(i.a.readFileSync(T("server/articles/".concat(r.file,".md")),"utf-8"));r.content=H.a.minify(n,{collapseWhitespace:!0})}e.body=r}});function F(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C,D,G=S()("hi:server"),R=i.a.readFileSync(T("dist/template.html"),"utf-8"),N=new c.a;N.use(l()()).use(d()()).use(m()(T("public"))),function(e){e.use(L.routes()).use(L.allowedMethods())}(N);var U=r(15).version,z=r(16).version,B={"Content-Type":"text/html",Server:"koa/".concat(U,"; vue-server-renderer/").concat(z)},K=["/test"],Q=["/","/articles","/article/:id(\\d+)"];N.use(async function(e,t){if(await void 0,"GET"!==e.method||e.url.lastIndexOf(".")>e.url.lastIndexOf("/")||!["*/*","text/html"].find(function(t){return e.get("Accept").includes(t)}))return t();e.set(B);var r,n,i=e.url;if(K.find(function(e){return x()(e).exec(i)}))return e.url="__non-ssr-page__.html",void await t();if(Q.find(function(e){return x()(e).exec(i)})){var o=i.split("?")[0].replace(/^\//,"")||"home",u="".concat(o,".html"),c=e.hostname.endsWith(".now.sh");if(n=c?a.a.resolve("/tmp",u):T("dist/static/"+u),D.existsSync(n))return void(c?e.body=D.createReadStream(n):(e.url=u,await t()));r=!0}var s=Date.now(),l={ctx:e,title:"vue-ssr"},f="";e.respond=!1,e.status=200;var d=e.res,p=C.renderToStream(l).on("error",function(t){switch(e.status=t.status||500){case 302:return e.redirect(t.url),d.end();case 404:return d.end("404 | Page Not Found");default:d.end("500 | Internal Server Error"),console.error("error during render : ".concat(i)),console.error(t.stack)}}).on("end",function(){if(f)try{g.a.sync(a.a.dirname(n),{fs:D}),D.writeFileSync(n,f),G('static html file "'.concat(n,'" is generated!'))}catch(e){console.error(e)}G("whole request: ".concat(Date.now()-s,"ms"))});r&&p.on("data",function(e){return f+=e}),p.pipe(d)});D=i.a,C=function(e,t){return r(17).createBundleRenderer(e,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){J(e,t,r[t])})}return e}({},t,{template:R,inject:!1,cache:y()({max:1e3,maxAge:9e5}),basedir:T("dist/static"),runInNewContext:!1}))}(M(T("dist/vue-ssr-server-bundle.json")),{clientManifest:M(T("dist/vue-ssr-client-manifest.json"))}),N.use(m()("dist/static"));var V=[A,"0.0.0.0"];N.listen.apply(N,V.concat([function(e){return G.apply(void 0,F(e?[e]:["Server is now running at %s:%s."].concat(F(V.reverse()))))}]))}]);